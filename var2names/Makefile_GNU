OBJ = start.o

INCLUDE = -I./src/ \
		  -I../libs/varhandle_lib/src/ \
		  -I../libs/nat-lda-parser/src/ \
		  -I../natuser_lib/src/ \
		  -I../libs/utils/src/

LIBS = -L./ -lvar2name \
	   -L../libs/varhandle_lib/ -lldaparser\
	   -L../libs/nat-lda-parser/ -lvars \
	   -L../libs/utils/ -lutils

lib: $(OBJ)
	ar -vcru libvar2name.a ./bin/*.o
	
%.o: ./src/%.c
	gcc -g -fPIC -c $< $(INCLUDE) -o ./bin/$@

test:
	gcc -g ./test_src/main.c $(INCLUDE) $(LIBS) -o ./test_src/main
	./test_src/main

clean:
	rm -rf libvars.a
	rm -rf ./bin/*.o
