OBJ = command_parsing.o \
	  exec_if.o \
	  exec_macro.o \
	  for.o \
	  if.o \
	  json.o \
	  macro.o \
	  token_handling.o \
	  variablen_parsing.o

INCLUDE = -I./src/ \
		  -I../varhandle_lib/src/

LIBS = -L../varhandle_lib/ -lvars

lib: $(OBJ)
	gcc -g -o ./main $(INCLUDE) test/main.c ./bin/*.o $(LIBS)
	
%.o: ./src/%.c
	gcc -g -c $< $(INCLUDE) -o ./bin/$@

clean:
	rm -rf libvars.a
	rm -rf ./bin/*.o
